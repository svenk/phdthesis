\documentclass[12pt, tikz]{scrreprt}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[utf8x]{inputenc}

\usepackage{gnuplot-lua-tikz}
\pagestyle{empty}
\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{\gpbboxborder}
\usepackage[T1]{fontenc}
\usepackage{mathptmx}
\usepackage{helvet}
\usepackage{amsmath}
\usepackage{subfloat}
\usetikzlibrary{shapes.misc}

\graphicspath{{../}{./}}

\usepackage{cancel}	
\usepackage{pgf,tikz}
\usepackage{mathrsfs}
\usetikzlibrary{decorations.fractals}
\usetikzlibrary{decorations.pathmorphing,backgrounds}
\usetikzlibrary{decorations.shapes}
\usetikzlibrary{decorations.footprints}
\usetikzlibrary{shapes,arrows,positioning,calc}
\tikzset{paint/.style={ draw=#1!50!black, fill=#1!50 },
    decorate with/.style=
    {decorate,decoration={shape backgrounds,shape=#1,shape size=2mm}}}
\usetikzlibrary{arrows}

\usepackage{pgfplots}


%%%%% AUTHORS - PLACE YOUR OWN COMMANDS HERE %%%%%

% PUT HERE THE NAME OF THE MATRIX of the NCP
\newcommand{\willy}{\boldsymbol{\mathcal{B}}}
%
\newcommand{\U}{\mathcal{U}}
\newcommand{\natSet}{{\rm I\!N}}
\newcommand{\di}{\text{d}}
\newcommand{\be}{\begin{equation}}
\newcommand{\ee}{\end{equation}}
\newcommand{\bdm}{\begin{displaymath}}
\newcommand{\edm}{\end{displaymath}}
\newcommand{\bea}{\begin{eqnarray}}
\newcommand{\eea}{\end{eqnarray}}
\newcommand{\PNM}{P_NP_M}
\newcommand{\halb}{\frac{1}{2}}
\newcommand{\FQi}{\tens{\mathbf{F}}\left(\Qi\right)}
\newcommand{\FQj}{\tens{\mathbf{F}}\left(\Qj\right)}
\newcommand{\FQjj}{\tens{\mathbf{F}}\left(\Qjj\right)}
\newcommand{\nj}{\vec n_j}
\newcommand{\FORCE}{\textnormal{FORCE}}
\newcommand{\GFORCE}{\textnormal{GFORCEN}}
\newcommand{\LF}{\textnormal{LF}'}
\newcommand{\LW}{\textnormal{LW}'}
\newcommand{\WL}{\mathcal{W}_h^-}
\newcommand{\WR}{\mathcal{W}_h^+}
\newcommand{\nur}{\boldsymbol{\nu}^\textbf{r} }
\newcommand{\nuf}{\boldsymbol{\nu}^{\boldsymbol{\phi}} }
\newcommand{\nut}{\boldsymbol{\nu}^{\boldsymbol{\theta}} }
\newcommand{\ar}{\phi_1\rho_1}
\newcommand{\arr}{\phi_2\rho_2}
\newcommand{\ur}{u_1^r}
\newcommand{\uf}{u_1^{\phi}}
\newcommand{\ut}{u_1^{\theta}}
\newcommand{\urr}{u_2^r}
\newcommand{\uff}{u_2^{\phi}}
\newcommand{\utt}{u_2^{\theta}}
\newcommand{\ub}{\textbf{u}_\textbf{1}}
\newcommand{\ubb}{\textbf{u}_\textbf{2}}
\newcommand{\RoeMat}{{\tilde A}_{\Path}^G} 

\newcommand{\y}{\mathbf{y}}
\newcommand{\x}{\mathbf{x}}
\newcommand{\Q}{\mathbf{Q}}
\renewcommand{\u}{\mathbf{u}}
\newcommand{\w}{\mathbf{w}}
\newcommand{\q}{\mathbf{q}}
\newcommand{\F}{\mathbf{F}}
\newcommand{\f}{\mathbf{f}}
\newcommand{\g}{\mathbf{g}}
\newcommand{\h}{\mathbf{h}}
\renewcommand{\v}{\mathbf{v}}
\newcommand{\B}{\mathbf{B}}
\newcommand{\emm}{m}
\newcommand{\mbf}[1]{\mathrm{#1}}

\newcommand{\lapse}{\alpha}
\newcommand{\shift}{\beta}
\newcommand{\Lor}{\Gamma}

\newcommand{\apriori}{\textit{a priori} }
\newcommand{\aposteriori}{\textit{a posteriori} }
\newcommand{\oz}[1]{ \textcolor{red}   {\texttt{\textbf{OZ: #1}}} }

\newfont{\numerikEleven}{ecrm1000}
\newfont{\numerikTen}{cmss10}
\newfont{\numerikNine}{cmss9}
\newfont{\numerikEight}{cmss8}
\newfont{\numerikSeven}{cmss7}
\newcommand{\reds}[1]{{\color{red}#1}}

%\newcommand{\bf}{\ifmmode\ \fi\textbf}
\newcommand*{\bf}[1]{\ifmmode\mathbf{#1}\else\textbf{#1}\fi}

\definecolor{pergamena}{rgb}{2.44,2.15,0.67}
%\definecolor{blu}{rgb}{0.30,0.30,1.10}
\definecolor{azz}{rgb}{0.85,0.90,1.00}
\definecolor{mandarino}{RGB}{237,189,101}
\definecolor{f1}{RGB}{255,204,153}
\definecolor{pera}{RGB}{237,210,61}
\definecolor{nonh}{RGB}{237,229,156}
\definecolor{menta}{RGB}{171,242,193}
\definecolor{darkspringgreen}{rgb}{0.09, 0.45, 0.27}
\definecolor{UniBlue}{RGB}{83,121,170}
\definecolor{darkgreen}{rgb}{0.0, 0.2, 0.13}

\newcommand{\boldEq}{\mathord{\begin{tikzpicture}[baseline=0ex, line width=0.8, scale=0.13]
\draw (0,1.2) -- (2,1.2);
\draw (0,0.2) -- (2,0.2);
\end{tikzpicture}}}

\definecolor{qqqqff}{rgb}{0.,0.,1.}
\definecolor{ffqqqq}{rgb}{1.,0.,0.}

\begin{document}

\tikzstyle{decision} = [diamond, draw, fill=red!40!yellow!40, text width=5.5em, text badly centered, node distance=20ex, inner sep=0pt]
\tikzstyle{block2} = [rectangle, draw, fill=blue!70!red!10, node distance=15ex, text centered, rounded corners, text width=15ex, minimum height=5ex]
\tikzstyle{green} = [rectangle, draw, fill=blue!10!green!60, node distance=15ex, text centered, rounded corners, text width=13ex, minimum height=5ex]
\tikzstyle{white} = [rectangle, draw, fill=white, node distance=5ex, text centered,minimum height=5ex]
\tikzstyle{blockInit} = [rectangle, draw, fill=white, node distance=35ex, text centered, rounded corners, text width=21ex, minimum height=5ex]
\tikzstyle{blockADER} = [rectangle, draw, fill=white, node distance=53ex, text centered, rounded corners, text width=28ex, minimum height=5ex]
\tikzstyle{blockEnd} = [rectangle, draw, fill=white!10!yellow!40, node distance=25ex, text centered, rounded corners, text width=35ex, minimum height=5ex]
\tikzstyle{blockVh} = [rectangle, draw, fill=white, node distance=35ex, text centered, rounded corners, text width=25ex, minimum height=5ex]
\tikzstyle{arrow} = [single arrow, draw=none,  draw, fill=white, node distance=9ex, text centered, minimum height=5ex] 
\tikzstyle{arrow2} = [single arrow, draw=none,  draw, fill=white, node distance=15ex, text centered, minimum height=5ex] %rotate=90,
\tikzstyle{line} = [draw, -latex]
\tikzstyle{cloud} = [draw, rectangle,fill=green!20, node distance=25ex, minimum height=5ex, rounded corners]
\scriptsize
%\noindent
\flushleft

\resizebox{0.75\textwidth}{!}{
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=0.4cm,y=0.4cm]
\clip(-10.,-1.) rectangle (39,22.);
\draw[color=qqqqff] (5.8,15) node {\includegraphics[width=.3\textwidth]{AMR_finelevel.pdf}};
\draw[color=qqqqff] (5.8,2.8) node {\includegraphics[width=.3\textwidth]{AMR_coarselevel.pdf}};
\draw[color=qqqqff] (28,15) node {\includegraphics[width=.3\textwidth]{AMR_finelevel_subgrid.pdf}};
\draw[color=qqqqff] (28,2.8) node {\includegraphics[width=.3\textwidth]{AMR_coarselevel_subgrid.pdf}}; 
\draw [shift={(14.536993886636886,8.94545636549829)}] plot[domain=2.917049100988035:3.4310350631587414,variable=\t]({1.*11.233029154447467*cos(\t r)+0.*11.233029154447467*sin(\t r)},{0.*11.233029154447467*cos(\t r)+1.*11.233029154447467*sin(\t r)});
\draw [shift={(-2.734543380364816,8.979255851449421)}] plot[domain=-0.2707252858333655:0.2412639706863772,variable=\t]({1.*11.140304619413676*cos(\t r)+0.*11.140304619413676*sin(\t r)},{0.*11.140304619413676*cos(\t r)+1.*11.140304619413676*sin(\t r)});
\draw [shift={(36.70945660122224,9.080654309302812)}] plot[domain=2.917049100988035:3.4310350631587414,variable=\t]({1.*11.233029154447467*cos(\t r)+0.*11.233029154447467*sin(\t r)},{0.*11.233029154447467*cos(\t r)+1.*11.233029154447467*sin(\t r)});
\draw [shift={(19.437919334220542,9.114453795253944)}] plot[domain=-0.2707252858333655:0.24126397068637728,variable=\t]({1.*11.140304619413676*cos(\t r)+0.*11.140304619413676*sin(\t r)},{0.*11.140304619413676*cos(\t r)+1.*11.140304619413676*sin(\t r)});
\draw [shift={(16.970556867506012,-5.92631745299919)}] plot[domain=1.1808784639638046:1.9636405021195442,variable=\t]({1.*10.670364416877376*cos(\t r)+0.*10.670364416877376*sin(\t r)},{0.*10.670364416877376*cos(\t r)+1.*10.670364416877376*sin(\t r)});
\draw [shift={(17.139554296733035,11.987410101100048)}] plot[domain=4.305861873717175:5.08360410232552,variable=\t]({1.*10.855582485572228*cos(\t r)+0.*10.855582485572228*sin(\t r)},{0.*10.855582485572228*cos(\t r)+1.*10.855582485572228*sin(\t r)});
\draw [shift={(17.173353782578438,5.937302115847665)}] plot[domain=1.1808784639638046:1.9636405021195442,variable=\t]({1.*10.670364416877376*cos(\t r)+0.*10.670364416877376*sin(\t r)},{0.*10.670364416877376*cos(\t r)+1.*10.670364416877376*sin(\t r)});
\draw [shift={(17.34235121180546,23.85102966994691)}] plot[domain=4.305861873717175:5.08360410232552,variable=\t]({1.*10.855582485572235*cos(\t r)+0.*10.855582485572235*sin(\t r)},{0.*10.855582485572235*cos(\t r)+1.*10.855582485572235*sin(\t r)});
%\begin{scriptsize}
\draw [fill=black,shift={(3.5859604727258256,11.446618325881957)}] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (0,9) node {DG-$L_2$ proj.};
\draw [fill=black,shift={(8.,6.)},rotate=180] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (12,9) node {DG-$L_2$ average};
\draw [fill=black,shift={(25.758423187311184,11.58181626968648)}] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (23,9) node {FV proj.};
\draw [fill=black,shift={(30.172462714585357,6.135197943804522)},rotate=180] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (34.5,9) node {FV $L_2$ average};
\draw [fill=black,shift={(21.026495168954554,3.943132444730956)},rotate=270] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (17.43205182824052,5.821659588914865) node {\large$\mathcal{P}$};
\draw [fill=black,shift={(12.847019594366664,2.0165617455165097)},rotate=90] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (17.432051828240525,0.4017832567045862) node {\large$\mathcal{R}$};
\draw [fill=black,shift={(21.22929208402698,15.80675201357781)},rotate=270] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (17.66769862455603,17.651128800956428) node {\large$\mathcal{P}$};
\draw [fill=black,shift={(13.04981650943909,13.880181314363364)},rotate=90] (0,0) ++(0 pt,3.75pt) -- ++(3.2475952641916446pt,-5.625pt)--++(-6.495190528383289pt,0 pt) -- ++(3.2475952641916446pt,5.625pt);
\draw[color=black] (17.66769862455603,12.278381828156675) node {\large$\mathcal{R}$};
%\end{scriptsize}
\draw (-9.,15.6) node[anchor=north west] {\large ref. level  $\ell +1$:};
\draw (-8.,3.3) node[anchor=north west] {\large ref. level  $\ell$:};
\draw[color=black] (5.8,20) node {\Large \underline{DG, piecewise polynomial, $\mathbf{u}_h$}};
\draw[color=black] (28,20) node {\Large  \underline{FV, piecewise constant, $\mathbf{v}_h$}};
\end{tikzpicture}}
}% end resizebox

\end{document}
 
